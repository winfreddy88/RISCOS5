| Copyright 2003 Tematic Ltd
|
| Licensed under the Apache License, Version 2.0 (the "License");
| you may not use this file except in compliance with the License.
| You may obtain a copy of the License at
|
|     http://www.apache.org/licenses/LICENSE-2.0
|
| Unless required by applicable law or agreed to in writing, software
| distributed under the License is distributed on an "AS IS" BASIS,
| WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
| See the License for the specific language governing permissions and
| limitations under the License.
|
Dir <Obey$Dir>

| Move the crunch scripts out of the way and replace them with
| some scripts which do not strip comments from the BASIC programs.
|
SetEval Clean$Build 0
IfThere util.nocrunch Then SetEval Clean$Build 1
IfThere util.nocrunch Then Rename crunch crunchO
IfThere util.nocrunch Then Rename util.nocrunch crunch

| Replace the squish utility with one which simply copies the
| file without doing anything to it.
|
Set Alias$Squish /util.NoSquish %%*0

| By far the fastest place for debug to be output to is a RAM
| disc, so we'll create one if there isn't one already.
|
IfThere RAM:$ Then Else ChangeDynamicArea -RamFsSize 4096K

| Set this variable if you want PROC/FN and ENDPROC/ENDFN trace
| information to be output to a file along with the debugging
| comments from the FTrace library. This is the BASIC trace
| file.
|
Set Printers$Trace RAM::RamDisc0.$.TraceProc

| Set this variable if you want to have the FTrace debugging
| comments output to a different file than the PROC/ENDPROC
| type stuff.
|
| Format of Trace$To is <spec>[<file>]
|
|   'f' trace to file <file>
|   't' trace to tube
|   's' trace to screen
|   'n' don't trace
|   'b' trace to BASIC's trace file (or screen if none)
|
|Set Trace$To fRAM::RamDisc0.$.TraceFile

If Clean$Build Then amu_machine clean
amu_machine install INSTDIR=<Install$Dir>.HardDisc4.Printing.!Printers DFLAGS=-DTrace
Copy sources.FTrace <Install$Dir>.HardDisc4.Printing.!Printers.FTrace ~cf~r~v
Copy UK.!RunDBG <Install$Dir>.HardDisc4.Printing.!Printers.!Run ~cf~r~v
