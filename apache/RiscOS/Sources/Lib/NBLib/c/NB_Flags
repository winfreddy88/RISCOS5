/* Copyright 1998 Acorn Computers Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/************************************************************************/
/* File:    NB_Flags                                                    */
/* Purpose: Bit operations on Flags words.                              */
/*                                                                      */
/* Author:  Neil Bingham <mailto:neil@binghams.demon.co.uk>             */
/* History: 0.00  - Tue 14th October 1997                               */
/*                  Created.                                            */
/************************************************************************/


/* -------------------------------------- LIBRARY IMPORTS --------------------------------------- */
#include <ctype.h>

#include "Main.h"
/* ---------------------------------- PRE-PROCESSOR DIRECTIVES ---------------------------------- */


/************************************************************************/
/* nb_set_bits                                                          */
/*                                                                      */
/* Function will set a flags word with the specified flags.             */
/*                                                                      */
/* Parameters: flags  - string of bits to set.                          */
/*                                                                      */
/* Returns:    Flags word.                                              */
/*                                                                      */
/************************************************************************/
int nb_set_bits(char *flags)
{
  int len, counter, return_value=0;

  len = strlen(flags);

  if (len == 0)
  {
    /* Nothing was passed so exit */
    return(0);
  }

  for (counter = 0; counter <= len-1; counter++)
  {
    if (isdigit (flags[counter]))
    {
      return_value ^= (1 << (flags[counter] - '0'));
    }
  }

  return(return_value);
}

/* -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ END +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ */


