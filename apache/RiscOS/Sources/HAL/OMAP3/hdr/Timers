; Copyright 2009 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;

TIMER_MAX       *       7 ; GPTIMER2-8. Other timers could be supported, but these 7 are in consecutive memory locations, making addressing easier. Note that GPTIMER9 could be used as well, except on TouchBook, where it's needed to drive a PWM signal for the display.
TIMER_BASE      *       L4_GPTIMER2
TIMER_STRIDE_POW2 *     13
TIMER_STRIDE    *       (1<<TIMER_STRIDE_POW2)
TIMER_SIZE      *       TIMER_MAX*TIMER_STRIDE

; Make sure stuff really is where we expect it to be
        ASSERT L4_GPTIMER3 = L4_GPTIMER2+TIMER_STRIDE
        ASSERT L4_GPTIMER4 = L4_GPTIMER3+TIMER_STRIDE
        ASSERT L4_GPTIMER5 = L4_GPTIMER4+TIMER_STRIDE
        ASSERT L4_GPTIMER6 = L4_GPTIMER5+TIMER_STRIDE
        ASSERT L4_GPTIMER7 = L4_GPTIMER6+TIMER_STRIDE
        ASSERT L4_GPTIMER8 = L4_GPTIMER7+TIMER_STRIDE
        ASSERT L4_GPTIMER9 = L4_GPTIMER8+TIMER_STRIDE

; Timer registers (offset from entry in TimerLocations table)
TIOCP_CFG       *       &10
TISTAT          *       &14
TISR            *       &18
TIER            *       &1C
TWER            *       &20
TCLR            *       &24
TCRR            *       &28
TLDR            *       &2C
TTGR            *       &30
TWPS            *       &34
TMAR            *       &38
TCAR1           *       &3C
TSICR           *       &40
TCAR2           *       &44

TIMER_IRQ_BASE  *       38 ; IRQs are 38-44 inclusive

        END
