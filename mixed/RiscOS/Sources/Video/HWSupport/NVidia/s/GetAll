; Copyright 2008 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;
 ; => GetAll
        TTL     NVidia graphics driver

        GET     Hdr:ListOpts
        GET     Hdr:Macros
        GET     Hdr:System
        GET     Hdr:Machine.<Machine>
        $GetIO
        $GetMEMM
        GET     Hdr:CMOS
        GET     Hdr:ModHand
        GET     Hdr:Debug
        GET     Hdr:PCI
        GET     Hdr:FSNumbers
        GET     Hdr:HighFSI
        GET     Hdr:NewErrors
        GET     Hdr:Services
        GET     Hdr:Tokens
        GET     Hdr:Proc
        GET     Hdr:Symbols
        GET     Hdr:HALEntries
        GET     Hdr:GraphicsV
        GET     Hdr:ResourceFS
        GET     Hdr:MsgTrans
        GET     Hdr:VideoDevice
        GET     Hdr:VduExt
        GET     Hdr:VIDCList

        GET     VersionASM

  [ :LNOT::DEF:ReleaseVersion
          GBLL    ReleaseVersion
ReleaseVersion  SETL    True
  ]

  [ :LNOT::DEF:Debug_Mod
        GBLL   Debug_Mod
Debug_Mod      SETL     False
  ]

  [ :LNOT::DEF:Set_Mode
        GBLL   Set_Mode
Set_Mode      SETL     False
  ]

  [ :LNOT::DEF:TestCommand
        GBLL   TestCommand
TestCommand    SETL     False
  ]

  [ :LNOT::DEF:POST_Only
        GBLL   POST_Only
POST_Only      SETL     False
  ]

  [ :LNOT::DEF:GeForce2Only
        GBLL   GeForce2Only
GeForce2Only   SETL     False
  ]

  [ :LNOT::DEF:AemulorSupport
        GBLL   AemulorSupport ; Tweak things to allow Aemulor's low colour mode emulation to work with the new GraphicsV API
AemulorSupport SETL     {TRUE}
  ]        


        GBLS    GetHelpTexts
  [ International_Help <> 0
GetHelpTexts    SETS    "GET HelpTexts"
  |
GetHelpTexts    SETS    "GET s.HelpTokens"
  ]

  [ :LNOT::DEF:standalone
        GBLL    standalone
  ]

;        ; Only lock onto the newer card (with no subsystem ID)
;        GBLL    ForceNew
;ForceNew        SETL    False
;
        ; Independently of above, assume a particular type
        GBLA    ForceCardType
ForceCardType   SETA    -1       ; -1 for autodetection

  [ :LNOT::DEF:NoPost
        GBLL    NoPost
NoPost          SETL    False
  ]
        GBLL    DebugModule
DebugModule     SETL    ( :LNOT: ReleaseVersion ) :LAND: True

        GBLL    DebugInterface
DebugInterface  SETL    ( :LNOT: ReleaseVersion ) :LAND: False

        GBLL    DebugCommands
DebugCommands   SETL    ( :LNOT: ReleaseVersion ) :LAND: False

        GBLL    DebugLoader
DebugLoader     SETL    ( :LNOT: ReleaseVersion ) :LAND: False

        GBLL    DebugScan
DebugScan       SETL    ( :LNOT: ReleaseVersion ) :LAND: False

        GBLL    DebugMemory
DebugMemory     SETL    ( :LNOT: ReleaseVersion ) :LAND: True

        GBLL    TML_Debugging
TML_Debugging   SETL    False


        GET     NVidiaHW.s
        GET     Module.s
        GET     GraphicsV.s
        GET     Tables.s
        GET     Driver.s
        GET     Interrupts.s
        GET     Accel.s
        GET     MsgCode.s

        END
