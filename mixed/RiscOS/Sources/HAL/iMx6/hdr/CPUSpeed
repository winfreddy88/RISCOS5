; Copyright 2017 Castle Technology Ltd
;
; Licensed under the Apache License, Version 2.0 (the "License");
; you may not use this file except in compliance with the License.
; You may obtain a copy of the License at
;
;     http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing, software
; distributed under the License is distributed on an "AS IS" BASIS,
; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
; See the License for the specific language governing permissions and
; limitations under the License.
;

        [       :LNOT: :DEF: __HAL_iMx6_CPUClk_HDR__
        GBLL    __HAL_iMx6_CPUClk_HDR__

        GET     hdr:CPUClkDevice

                ^       0
CPUSpeedTab     #       0
CPUST_Freq      #       4               ; Frequency in MHz
CPUST_vddvpu    #       4               ; in mV  reg1- VPU/GPU domain
CPUST_vddsoc    #       4               ; in mV  reg2- SOC domain
CPUST_vddarm    #       4               ; in mV  reg0- arm core
CPUST_Size      #       0               ; table size

CPUST_Format    *       1               ; format 1

CPUST_Max       *       8               ; Max CPU Speed table entries


; the device as we use it
                ^       0, a1
; obvious public bits
CPUClkDevice    #       HALDevice_CPUClk_Size_0_2
; our more private bits
CPUClkNewSpeedIdx #     1               ; index to speed 0=slowest
CPUClkCurSpeedIdx #     1               ; index to table 0=slowest
CPUClknSpeeds   #       1               ; speed index range 0->CPUClknSpeeds-1
CPUMinSpeedIndex #      1               ; minimum cpu speed index in use
CPUMaxSpeedIndex #      1               ; max cpu speed index in use
CPUClkSpare     #       3               ; align
;CPUClkTable    #       (CPUST_Size*CPUST_Max)
; overall size
HALClkSB        #       4               ; so we can get to it later
CPUClkTableEnd  #       0

CPUClkDeviceSize *      (CPUClkTableEnd-CPUClkDevice)

        ]
        END
